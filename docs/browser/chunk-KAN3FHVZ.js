import{a as P}from"./chunk-CH5TLQ2K.js";import{C as A,g as N,h as T,i as f,j as D,k as u,m as F,n as M,o as G,q as g,r as V,t as j,w as k}from"./chunk-K6TD2CPM.js";import{$b as I,Ab as l,Da as S,Ea as _,Jb as o,Kb as r,Lb as p,Nc as E,Pb as C,Pc as L,Rb as y,Sb as c,_b as n,fb as s,gb as b,ja as h,ua as x,va as w,yb as d}from"./chunk-SN6OR5EP.js";import{e as q}from"./chunk-CWTPBX7D.js";var O=q(P());function U(t,e){if(t&1&&(o(0,"div",7),n(1),r()),t&2){let m=c();s(),I(m.error)}}function B(t,e){t&1&&(o(0,"div")(1,"small"),n(2,"email or phone is required"),r()())}function H(t,e){t&1&&(o(0,"div")(1,"small"),n(2,"password is required"),r()())}function z(t,e){if(t&1){let m=C();o(0,"form",8),y("ngSubmit",function(){S(m);let i=c();return _(i.onSubmit())}),o(1,"div",9)(2,"label",10),n(3,"E-mail"),r(),p(4,"input",11),d(5,B,3,0,"div",12),r(),o(6,"div",9)(7,"label",13),n(8,"password "),r(),p(9,"input",14),d(10,H,3,0,"div",12),r(),o(11,"p",15),n(12,"Dont't Have Account ? "),o(13,"a",16),n(14,"Sign-up"),r()(),o(15,"button",17),n(16,"Login"),r()()}if(t&2){let m=c();l("formGroup",m.form),s(5),l("ngIf",m.form.get("email").invalid&&m.form.get("email").touched),s(5),l("ngIf",m.form.get("password").invalid&&m.form.get("password").touched)}}var R=(()=>{let e=class e{constructor(a){this.router=a,this.error=null,this.isLoading=!1,this.form=new G({email:new g("",[u.required]),password:new g("",[u.required])})}getStoredData(){return JSON.parse(localStorage.getItem("register"))||[]}onSubmit(){this.form.valid?(console.log(this.form.value),this.getStoredData().forEach(i=>{console.log(i.password),console.log(this.form.value.password),i.password==this.form.value.password&&i.email==this.form.value.email||i.mobile_no==this.form.value.mobile_no?(localStorage.setItem("isLogin","true"),localStorage.setItem("curentUser",JSON.stringify(i)),this.router.navigate(["/dashbaord"]),O.default.fire({position:"center",icon:"success",title:"Login Successfully...",showConfirmButton:!1,timer:1500})):(this.error="Invalid Username Or Password",setTimeout(()=>{this.error=null},5e3))})):this.form.markAllAsTouched()}};e.\u0275fac=function(i){return new(i||e)(b(N))},e.\u0275cmp=x({type:e,selectors:[["app-login"]],decls:8,vars:2,consts:[[1,"content","d-flex","justify-content-center","align-items-center"],[1,"d-flex","justify-content-center"],[1,"card",2,"width","30rem"],[1,"card-body"],["class","text-white bg-danger p-2 mb-3",4,"ngIf"],[1,"card-title","mb-3","fs-3"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"text-white","bg-danger","p-2","mb-3"],[3,"ngSubmit","formGroup"],[1,"mb-2"],["for","email"],["type","text","formControlName","email","placeholder","Email Address",1,"form-control"],[4,"ngIf"],["for","password"],["type","password","formControlName","password","placeholder","Password ",1,"form-control"],[1,"text-end","small"],["routerLink","/register",1,"text-primary","fw-bold","text-decoration-none"],["type","submit",1,"btn","btn-dark","w-100"]],template:function(i,v){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),d(4,U,2,1,"div",4),o(5,"h5",5),n(6,"Login"),r(),d(7,z,17,3,"form",6),r()()()()),i&2&&(s(4),l("ngIf",v.error),s(3),l("ngIf",!v.isLoading))},dependencies:[T,E,V,D,F,M,j,k],styles:[".content[_ngcontent-%COMP%]{height:100vh;width:100vw}small[_ngcontent-%COMP%]{color:red}"]});let t=e;return t})();var K=[{path:"",component:R}],re=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=w({type:e}),e.\u0275inj=h({imports:[f.forChild(K),L,A,f]});let t=e;return t})();export{re as a};
